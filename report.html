<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>หน้ารายงาน</title>
  <link rel="stylesheet" href="style.css">
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const container = document.getElementById("reportContainer");
      const data = JSON.parse(localStorage.getItem("inspectionData") || "[]");
      if (data.length === 0) {
        container.innerHTML = "<p>ยังไม่มีข้อมูลบันทึก</p>";
        return;
      }

      data.forEach((item, index) => {
        const div = document.createElement("div");
        div.innerHTML = `
          <strong>${item.project}</strong> - แปลง ${item.plot}
          <button onclick="viewDetail(${index})">ดูรายละเอียด</button>
        `;
        container.appendChild(div);
      });
    });

    function viewDetail(index) {
      localStorage.setItem("selectedInspectionIndex", index);
      window.location.href = "detail.html";
    }
  </script>
</head>
<body>
  <h1>หน้ารายงาน</h1>
  <div id="reportContainer"></div>
  <a href="index.html">กลับหน้าหลัก</a>
</body>
</html>

